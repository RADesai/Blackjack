<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <link href="http://getbootstrap.com/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link href="http://getbootstrap.com/examples/jumbotron-narrow/jumbotron-narrow.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Josefin+Sans:600|Lato|Nova+Mono" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="./css/styles.css" />
    <link rel="stylesheet" type="text/css" href="../cards.min.css" />

    <title>LifeJack</title>

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular.min.js"></script>
    <script src="https://code.angularjs.org/1.6.1/angular-route.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular-animate.min.js"></script>
    <script src="./js/game.js"></script>
  </head>

  <body ng-app="app" ng-controller="GameController">

    <div class="jumbotron header">
      <img ng-src="./LifeJack.png" class="img-fluid rounded" />
    </div>

    <div class="container">
      <div class="jumbotron intro">
        <h3>Working hard? Step into the lion's den and see if you have what it takes to earn a break.</h1>
        <p class="lead">
          This is a very simple app that uses time as currency to play games of BlackJack.
          Depending on how you do, you'll either earn yourself some 'play time' or
          'work time,' the more you gamble the higher the stakes get!
        </p>
        <p class="lead"><strong>Play BlackJack Below!</strong></p>
      </div>

      <div class="jumbotron text-center">
        <div class="list-group">
          <p class="list-group-item message" ng-repeat="message in game.messages track by $index">{{message}}"</p>
        </div>
      </div>

      <!-- <div class="row" ng-if="!game.over"> Render this div to show cards when game is being played -->
      <div class="row">
        <div class="col-md-6 jumbotron">
          My Hand
          <div class="hand hhand-compact active-hand">
            <span ng-repeat="card in game.playerHand track by $index"><img class='card' ng-src='cards/{{card}}.svg'></span>
          </div>
        </div>
        <div class="col-md-6 jumbotron" ng-if="!game.playerTurn">
          Dealer's Hand
          <div class="hand hhand-compact active-hand">
            <span ng-repeat="card in game.dealerHand track by $index"><img class='card' ng-src='cards/{{card}}.svg'></span>
          </div>
        </div>
      </div>

      <div class="jumbotron text-center">
        <div class="play">
          <h2 ng-if="game.playerTurn===true">Your Move!</h2>
          <h2 ng-if="game.over===true">Game Over!</h2>

          <div class="playerInfo">
            <div class="list-group">
              <a class="list-group-item list-group-item-action list-group-item-warning" ng-if="game.playerTurn">
                Your hand: {{game.player.total}}   v   Dealer's showing: {{game.dealer.hand[0].value}}
              </a>
              <a class="list-group-item list-group-item-action list-group-item-warning" ng-if="!game.playerTurn">
                Your hand: {{game.player.total}}   v   Dealer's hand: {{game.dealer.total}}
              </a>
              <a class="list-group-item list-group-item-action list-group-item-info">Current Bet: {{game.bet}}</a>
              <a class="list-group-item list-group-item-action list-group-item-success">Balance: {{game.time}}</a>
            </div>
          </div>

          <div class="btn-group">
            <a class="btn btn-lg btn-success" ng-if="game.playerTurn===true" ng-click="game.hit()">HIT</a>
            <a class="btn btn-lg btn-danger" ng-if="game.playerTurn===true" ng-click="game.playerMove()">STAY</a>
          </div>

          <div class="jumbotron" ng-if"game.over">
            <form name="makeABet" ng-submit='game.startGame()'>
              <input
              type='text'
              name="userBet"
              required ng-model='game.bet'
              ng-class="{'error': makeABet.$invalid && makeABet.$dirty}"
              >
              <button ng-disabled="game.bet===0" class="btn btn-lg btn-success">Play</button>
            </form>

            <div class="jumbotron">
              <button class="btn btn-xs btn-danger" ng-click="game.reset()">RESET HAND</button>
            </div>
          </div>
        </div>

<!-- PUT THIS DIV AS A SIDEBAR     .. NOTE > js file is going in the wrong order
          <div class="message">
            <p ng-repeat="msg in game.messages">{{msg}}</p>
          </div>
-->
      </div>
    </div>
    <!-- <footer class="footer">
      <p class="surfaceText">&copy; RADesai HRR20</p>
    </footer> -->
  </body>
</html>
